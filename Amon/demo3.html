<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<title>口袋妖怪微信版-快来成为小精灵大师！</title>
<script>

</script>
<link rel="stylesheet" type="text/css" href="css/style.css?15">
<script src="https://webapi.amap.com/maps?v=1.3&key=464e2c3addc64c5894994afe0bbdca21"></script>
<script>
;(function(win,doc){
    var UA = navigator.userAgent,
        isAndroid = /android|adr/gi.test(UA),
        isIos = /iphone|ipod|ipad/gi.test(UA) && !isAndroid;
    var docEl = doc.documentElement;
    var refreshRem =function (){
        var w =docEl.getBoundingClientRect().width || 320;
        var fs = w/320 * 20;
        fs = fs > 40 ? 40 : fs;
        docEl.style.fontSize = fs+'px';
    },refreshRemId;
    win.addEventListener('resize', function() {
        clearTimeout(refreshRemId);
        refreshRemId = setTimeout(refreshRem, 100);
    }, false);
    refreshRem();
})(window,document);
</script>
</head>
<body class="State">
<div class="View section State" id="J_section">
    <div class="Frame map" id="gomap"></div>
</div>

<script src="js/zepto.min.js"></script>
<script>
var gomap,geolocation;
gomap = new AMap.Map('gomap', {
    zoomEnable : false,
    zoom:18,
    center: [118.18088, 24.4896],
    mapStyle : 'amap://styles/e6fa21422698f8a28585158d9d075f1d'
});
gomap.plugin('AMap.Geolocation',function(){
    geolocation = new AMap.Geolocation({
        showButton: false,
        showCircle: false,
        markerOptions : {
            icon : new AMap.Icon({
                image : 'images/go_role_1.gif',
                size : new AMap.Size(40,40),
                imageSize :  new AMap.Size(40,40),
            }),
            offset : new AMap.Pixel(-20,-20)
        }
    });
    gomap.addControl(geolocation);
    geolocation.getCurrentPosition(function(status,result){
        console.log(result)
    });
    geolocation.watchPosition();
    AMap.event.addListener(geolocation, 'complete', onComplete);//返回定位信息
    AMap.event.addListener(geolocation, 'error', onError);      //返回定位出错信息
})
function onComplete(result){
    console.log(result)
}
</script>
</html>
